---
description: Cursor-specific project setup and optimization patterns
globs: [".cursor/*", "*.mdc"]
alwaysApply: false
---

# ğŸ”§ Cursor Project Setup Optimization

Based on [Cursor Rules Documentation](https://docs.cursor.com/en/context/rules), this rule optimizes how we set up and manage Cursor projects for maximum AI collaboration efficiency.

## ğŸ“ Optimal Cursor Project Structure

```
project/
â”œâ”€â”€ .cursor/
â”‚   â””â”€â”€ rules/
â”‚       â”œâ”€â”€ system-core-understanding.mdc      # Always applied, core behavior
â”‚       â”œâ”€â”€ fast-initialization.mdc            # Always applied, zero-lookup init
â”‚       â”œâ”€â”€ project-organization-structure.mdc # Always applied, clean architecture
â”‚       â”œâ”€â”€ meta-system-prompt-integration.mdc # Always applied, continuous improvement
â”‚       â”œâ”€â”€ auto-template-generation.mdc       # Auto-attached, template creation
â”‚       â”œâ”€â”€ system-behavior-optimization.mdc   # Auto-attached, performance analysis
â”‚       â”œâ”€â”€ meta-optimization-mode.mdc         # Manual trigger for self-improvement
â”‚       â”œâ”€â”€ domain-specific-rules.mdc          # Auto-attached by file patterns
â”‚       â””â”€â”€ user-preferences.mdc               # Always applied, communication style
â”œâ”€â”€ automation-systems/                       # Organized subsystem structure
â”‚   â””â”€â”€ {domain}/                             # Individual automation systems
â”œâ”€â”€ templates/                                 # Auto-generated reusable patterns
â””â”€â”€ .cursorrules                              # Legacy (migrate to .cursor/rules)
```

## ğŸ¯ Rule Types & Usage Patterns

### **Always Applied Rules** (Core System Behavior)
```mdc
---
description: Core behavior for all interactions
alwaysApply: true
---
```
- System understanding and capabilities
- User communication patterns
- Performance optimization behaviors

### **Auto-Attached Rules** (Context-Aware)
```mdc
---
description: Data processing automation patterns
globs: ["*.csv", "*.json", "data/*", "reports/*"]
alwaysApply: false
---
```
- Domain-specific enhancement patterns
- File-type specific optimizations
- Context-aware building behaviors

### **Manual Rules** (On-Demand Features)
```mdc
---
description: Meta optimization mode
globs: []
alwaysApply: false
---
```
- Triggered by specific keywords or commands
- Advanced features and specialized modes
- System self-improvement capabilities

## ğŸš€ Cursor-Optimized Automation Patterns

### **1. Intelligent Context Inclusion**

**Use file references in rules:**
```mdc
---
description: Data processing with templates
---

When building data processors, use these proven patterns:

@templates/csv-processor-template.py
@templates/validation-patterns.json
```

**This provides the AI with template context automatically when the rule triggers.**

### **2. Nested Rule Organization**

```
project/
â”œâ”€â”€ .cursor/rules/                    # Global project rules
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ .cursor/rules/               # Backend-specific rules
â”œâ”€â”€ data-processing/
â”‚   â””â”€â”€ .cursor/rules/               # Data processing rules
â””â”€â”€ api-integrations/
    â””â”€â”€ .cursor/rules/               # API-specific rules
```

### **3. Performance-Optimized Rule Writing**

**âœ… Good Rule Structure:**
```mdc
---
description: Concise, specific description for AI decision-making
globs: ["specific/*.patterns"]
alwaysApply: false
---

# Focused, Actionable Instructions

Specific patterns and examples that the AI can immediately apply.

@reference-file.js
```

**âŒ Avoid:**
- Vague descriptions
- Rules over 500 lines
- Overlapping glob patterns
- Generic instructions without examples

## ğŸ§  AI Collaboration Optimization

### **Rule-Based System Understanding**
Instead of requiring the AI to explore and understand the system through multiple tool calls:

1. **Embed knowledge in always-applied rules** â†’ Instant understanding
2. **Use auto-attached rules for context** â†’ Automatic domain expertise
3. **Provide manual rules for advanced features** â†’ On-demand capabilities

### **Context-Aware Enhancement Engine**
```mdc
---
description: Intelligent enhancement patterns
globs: ["*.csv", "*.json", "data/*"]
alwaysApply: false
---

# Context-Aware Data Processing Enhancements

When working with data files, automatically consider:

1. **File size patterns:**
   - Small files (<10MB): Direct processing
   - Large files (>10MB): Streaming with progress
   - Very large (>100MB): Chunked processing with optimization

2. **Data quality patterns:**
   - Headers present: Schema validation
   - Missing data: Interpolation or exclusion options
   - Mixed formats: Flexible parsing with error recovery

3. **Integration opportunities:**
   - API docs in workspace: Prepare for sync capabilities
   - Report templates present: Auto-generate formatted outputs
   - Database configs: Ready for direct data pipeline

@templates/data-processing-patterns.json
```

### **Communication Style Optimization**
```mdc
---
description: User communication preferences
alwaysApply: true
---

# Adaptive Communication Patterns

**Based on user input style, adapt responses:**

Technical/Direct Input â†’ BUILD_MODE Response:
- Brief progress updates
- Focus on results and performance
- Minimal explanations unless requested

Question-rich/Exploratory Input â†’ LEARN_MODE Response:
- Detailed explanations and alternatives  
- Concept connections and broader patterns
- Teaching moments integrated naturally

Balanced Input â†’ BALANCED Response:
- Clear explanations with optional depth
- Efficient building with learning opportunities
- Adapt based on follow-up questions
```

## ğŸ”§ Migration from Legacy .cursorrules

### **Automated Migration Pattern**
```javascript
// Convert .cursorrules to modern .cursor/rules structure
function migrateLegacyRules(cursorrules_content) {
  return {
    'system-behavior.mdc': extractSystemBehavior(cursorrules_content),
    'communication-style.mdc': extractCommunicationPreferences(cursorrules_content),
    'domain-patterns.mdc': extractDomainLogic(cursorrules_content)
  };
}
```

### **Benefits of Migration:**
- **Better organization** â†’ Focused, composable rules
- **Context awareness** â†’ Auto-attachment based on file patterns  
- **Performance** â†’ Reduced rule processing overhead
- **Collaboration** â†’ Team-wide rule sharing and version control

## ğŸ“Š Rule Performance Monitoring

### **Track Rule Effectiveness:**
```javascript
const ruleMetrics = {
  'system-core-understanding.mdc': {
    initialization_time: 'instant', // vs. previous 30+ seconds
    tool_calls_saved: 5, // vs. previous multiple file reads
    user_satisfaction: 'improved_clarity'
  },
  'fast-initialization.mdc': {
    first_response_time: '<5_seconds',
    context_accuracy: '95%+',
    enhancement_prediction: 'improved'
  }
};
```

### **Optimization Indicators:**
- Rules that frequently need manual invocation â†’ Consider auto-attachment
- Rules with overlapping descriptions â†’ Consolidate or refine scoping
- Rules with low usage â†’ Archive or merge with related rules

## ğŸš€ Enhanced System Capabilities

### **Auto-Template Generation & Meta-Learning**
- **Template Automation**: Successful builds automatically become reusable `.mdc` templates
- **System Evolution**: Continuous prompt optimization through behavioral analysis  
- **Performance Intelligence**: Automatic identification and resolution of performance issues
- **Clean Architecture**: Enforced project organization with subsystem isolation

### **Context-Aware Enhancement Engine**
- **Template Selection**: Automatic selection of best templates based on requirements
- **Pattern Recognition**: Success patterns applied automatically to new builds
- **Dependency Intelligence**: Smart dependency validation and auto-installation
- **Cross-Platform Optimization**: OS-aware command generation and execution

This enhanced Cursor-optimized setup provides **instant AI understanding** with **context-aware intelligence**, **automatic template generation**, **continuous system improvement**, and **enforced clean architecture** while following [Cursor's rule best practices](https://docs.cursor.com/en/context/rules).